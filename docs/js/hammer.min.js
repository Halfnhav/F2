function Hammer(p,x,l){var i=this;var D=G({prevent_default:false,css_hacks:true,swipe:true,swipe_time:500,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500,allow_touch_and_mouse:false},Hammer.defaults||{});x=G(D,x);(function(){if(!x.css_hacks){return false}var V=["webkit","moz","ms","o",""];var S={userSelect:"none",touchCallout:"none",touchAction:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var U="";for(var R=0;R<V.length;R++){for(var T in S){U=T;if(V[R]){U=V[R]+U.substring(0,1).toUpperCase()+U.substring(1)}p.style[U]=S[T]}}})();var M=0;var w=0;var N=0;var B={};var O=0;var k=false;var g=null;var f=null;var v=null;var F={x:0,y:0};var d=null;var E=null;var P={};var c=false;var j;var e;var C;var K=("ontouchstart" in window);var u=false;this.option=function(R,S){if(S!==l){x[R]=S}return x[R]};this.getDirectionFromAngle=function(T){var U={down:T>=45&&T<135,left:T>=135||T<=-135,up:T<-45&&T>-135,right:T>=-45&&T<=45};var S,R;for(R in U){if(U[R]){S=R;break}}return S};this.destroy=function(){if(K||x.allow_touch_and_mouse){b(p,"touchstart touchmove touchend touchcancel",z)}if(!K||x.allow_touch_and_mouse){b(p,"mouseup mousedown mousemove",z);b(p,"mouseout",t)}};function y(R){return R.touches?R.touches.length:1}function a(S){var T=document,R=T.body;return[{x:S.pageX||S.clientX+(T&&T.scrollLeft||R&&R.scrollLeft||0)-(T&&T.clientLeft||R&&T.clientLeft||0),y:S.pageY||S.clientY+(T&&T.scrollTop||R&&R.scrollTop||0)-(T&&T.clientTop||R&&T.clientTop||0)}]}function m(T){var V=[],U;for(var S=0,R=x.two_touch_max?Math.min(2,T.touches.length):T.touches.length;S<R;S++){U=T.touches[S];V.push({x:U.pageX,y:U.pageY})}return V}function Q(R){var S=a;R=R||window.event;if(!K){if(x.allow_touch_and_mouse&&R.touches!==l&&R.touches.length>0){S=m}}else{S=m}return S(R)}function q(S,R){return Math.atan2(R.y-S.y,R.x-S.x)*180/Math.PI}function o(T,S){var R=S.x-T.x,U=S.y-T.y;return Math.sqrt((R*R)+(U*U))}function r(R,S){if(R.length==2&&S.length==2){var T=o(R[0],R[1]);var U=o(S[0],S[1]);return U/T}return 0}function n(S,T){if(S.length==2&&T.length==2){var U=q(S[1],S[0]);var R=q(T[1],T[0]);return R-U}return 0}function L(R,S){S.touches=Q(S.originalEvent);S.type=R;if(s(i["on"+R])){i["on"+R].call(i,S)}}function H(R){R=R||window.event;if(R.preventDefault){R.preventDefault();R.stopPropagation()}else{R.returnValue=false;R.cancelBubble=true}}function I(){B={};k=false;O=0;M=0;w=0;g=null}var A={hold:function(R){if(x.hold){g="hold";clearTimeout(E);E=setTimeout(function(){if(g=="hold"){L("hold",{originalEvent:R,position:B.start})}},x.hold_timeout)}},swipe:function(X){if(!B.move||g==="transform"){return}var V=B.move[0].x-B.start[0].x;var U=B.move[0].y-B.start[0].y;M=Math.sqrt(V*V+U*U);var T=new Date().getTime();var W=T-v;if(x.swipe&&(x.swipe_time>=W)&&(M>=x.swipe_min_distance)){w=q(B.start[0],B.move[0]);N=i.getDirectionFromAngle(w);g="swipe";var S={x:B.move[0].x-P.left,y:B.move[0].y-P.top};var R={originalEvent:X,position:S,direction:N,distance:M,distanceX:V,distanceY:U,angle:w};L("swipe",R)}},drag:function(W){var U=B.move[0].x-B.start[0].x;var T=B.move[0].y-B.start[0].y;M=Math.sqrt(U*U+T*T);if(x.drag&&(M>x.drag_min_distance)||g=="drag"){w=q(B.start[0],B.move[0]);N=i.getDirectionFromAngle(w);var V=(N=="up"||N=="down");if(((V&&!x.drag_vertical)||(!V&&!x.drag_horizontal))&&(M>x.drag_min_distance)){return}g="drag";var S={x:B.move[0].x-P.left,y:B.move[0].y-P.top};var R={originalEvent:W,position:S,direction:N,distance:M,distanceX:U,distanceY:T,angle:w};if(k){L("dragstart",R);k=false}L("drag",R);H(W)}},transform:function(W){if(x.transform){var V=y(W);if(V!==2){return false}var U=n(B.start,B.move);var X=r(B.start,B.move);if(g==="transform"||Math.abs(1-X)>x.scale_treshold||Math.abs(U)>x.rotation_treshold){g="transform";B.center={x:((B.move[0].x+B.move[1].x)/2)-P.left,y:((B.move[0].y+B.move[1].y)/2)-P.top};if(k){B.startCenter=B.center}var T=B.center.x-B.startCenter.x;var S=B.center.y-B.startCenter.y;M=Math.sqrt(T*T+S*S);var R={originalEvent:W,position:B.center,scale:X,rotation:U,distance:M,distanceX:T,distanceY:S};if(k){L("transformstart",R);k=false}L("transform",R);H(W);return true}}return false},tap:function(V){var S=new Date().getTime();var U=S-v;if(x.hold&&!(x.hold&&x.hold_timeout>U)){return}var T=(function(){if(F&&x.tap_double&&f=="tap"&&B.start&&(v-d)<x.tap_max_interval){var Y=Math.abs(F[0].x-B.start[0].x);var X=Math.abs(F[0].y-B.start[0].y);return(F&&B.start&&Math.max(Y,X)<x.tap_double_distance)}return false})();if(T){g="double_tap";d=null;L("doubletap",{originalEvent:V,position:B.start});H(V)}else{var W=(B.move)?Math.abs(B.move[0].x-B.start[0].x):0;var R=(B.move)?Math.abs(B.move[0].y-B.start[0].y):0;M=Math.max(W,R);if(M<x.tap_max_distance){g="tap";d=S;F=B.start;if(x.tap){L("tap",{originalEvent:V,position:B.start});H(V)}}}}};function z(V){var U;switch(V.type){case"mousedown":case"touchstart":U=y(V);u=U===1;if(U===2&&g==="drag"){L("dragend",{originalEvent:V,direction:N,distance:M,angle:w})}T();if(x.prevent_default){H(V)}break;case"mousemove":case"touchmove":U=y(V);if(!c&&U===1){return false}else{if(!c&&U===2){u=false;I();T()}}e=V;B.move=Q(V);if(!A.transform(V)){A.drag(V)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":var W=true;c=false;C=V;A.swipe(V);if(g=="drag"){L("dragend",{originalEvent:V,direction:N,distance:M,angle:w})}else{if(g=="transform"){var S=B.center.x-B.startCenter.x;var R=B.center.y-B.startCenter.y;L("transformend",{originalEvent:V,position:B.center,scale:r(B.start,B.move),rotation:n(B.start,B.move),distance:M,distanceX:S,distanceY:R});if(y(V)===1){I();T();W=false}}else{if(u&&V.type!="mouseout"){A.tap(j)}}}f=g;L("release",{originalEvent:V,gesture:g,position:B.move||B.start});if(W){I()}break}function T(){B.start=Q(V);v=new Date().getTime();O=y(V);k=true;j=V;var X=p.getBoundingClientRect();var ab=p.clientTop||document.body.clientTop||0;var aa=p.clientLeft||document.body.clientLeft||0;var Y=window.pageYOffset||p.scrollTop||document.body.scrollTop;var Z=window.pageXOffset||p.scrollLeft||document.body.scrollLeft;P={top:X.top+Y-ab,left:X.left+Z-aa};c=true;A.hold(V)}}function t(R){if(!J(p,R.relatedTarget)){z(R)}}if(K||x.allow_touch_and_mouse){h(p,"touchstart touchmove touchend touchcancel",z)}if(!K||x.allow_touch_and_mouse){h(p,"mouseup mousedown mousemove",z);h(p,"mouseout",t)}function J(R,T){if(!T&&window.event&&window.event.toElement){T=window.event.toElement}if(R===T){return true}if(T){var S=T.parentNode;while(S!==null){if(S===R){return true}S=S.parentNode}}return false}function G(T,S){var R={};if(!S){return T}for(var U in T){if(U in S){R[U]=S[U]}else{R[U]=T[U]}}return R}function s(R){return Object.prototype.toString.call(R)=="[object Function]"}function h(U,T,V){T=T.split(" ");for(var S=0,R=T.length;S<R;S++){if(U.addEventListener){U.addEventListener(T[S],V,false)}else{if(document.attachEvent){U.attachEvent("on"+T[S],V)}}}}function b(U,T,V){T=T.split(" ");for(var S=0,R=T.length;S<R;S++){if(U.removeEventListener){U.removeEventListener(T[S],V,false)}else{if(document.detachEvent){U.detachEvent("on"+T[S],V)}}}}};